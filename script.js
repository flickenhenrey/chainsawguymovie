// =======================
// Season 1
// =======================
const season1Episodes = [
  { number: 1, name: 'The Garden Party', file: 'https://files.catbox.moe/dy5xd5.mp4' },
  { number: 2, name: 'The Trial of R. Kelly', file: 'https://files.catbox.moe/sdm4bg.mp4' },
  { number: 3, name: "Guess Hoe's Coming to Dinner", file: 'https://files.catbox.moe/jqn71z.mp4' },
  { number: 4, name: "Granddad's Fight", file: 'https://files.catbox.moe/geasig.mp4' },
  { number: 5, name: 'A Date with the Health Inspector', file: 'https://files.catbox.moe/ug7sel.mp4' },
  { number: 6, name: 'The Story of Gangstalicious', file: 'https://files.catbox.moe/9oe0j2.mp4' },
  { number: 7, name: 'A Huey Freeman Christmas', file: 'https://files.catbox.moe/y8t2tj.mp4' },
  { number: 8, name: 'The Real', file: 'https://files.catbox.moe/h41wg7.mp4' },
  { number: 9, name: 'Return of the King', file: 'https://files.catbox.moe/qr6cj5.mp4' },

  // { number: 10, name: 'The Itis', file: 'https://files.catbox.moe/placeholder10.mp4' },

  { number: 11, name: "Let's Nab Oprah", file: 'https://files.catbox.moe/aq1l8y.mp4' },
  { number: 12, name: 'Riley Wuz Here', file: 'https://dn721501.ca.archive.org/0/items/the-boondocks-complete/Season%201/The%20Boondocks%20-%20S01E12%20-%20Riley%20Wuz%20Here.ia.mp4' },
  { number: 13, name: 'Wingmen', file: 'https://dn721501.ca.archive.org/0/items/the-boondocks-complete/Season%201/The%20Boondocks%20-%20S01E13%20-%20Wingmen.ia.mp4' },
  { number: 14, name: 'The Block Is Hot', file: 'https://dn721501.ca.archive.org/0/items/the-boondocks-complete/Season%201/The%20Boondocks%20-%20S01E14%20-%20The%20Block%20is%20Hot.ia.mp4' },
  { number: 15, name: 'The Passion of Reverend Ruckus', file: 'https://dn721501.ca.archive.org/0/items/the-boondocks-complete/Season%201/The%20Boondocks%20-%20S01E15%20-%20The%20Passion%20of%20Reverend%20Ruckus.ia.mp4' }
];

// =======================
// Season 2
// =======================
const season2Episodes = [
  { number: 1, name: 'â€¦Or Die Trying', file: 'https://dn721501.ca.archive.org/0/items/the-boondocks-complete/Season%202/The%20Boondocks%20-%20S02E01%20-%20...Or%20Die%20Trying.mp4' },
  { number: 2, name: 'Tom, Sarah & Usher', file: 'https://dn721501.ca.archive.org/0/items/the-boondocks-complete/Season%202/The%20Boondocks%20-%20S02E02%20-%20Tom%2C%20Sarah%2C%20and%20Usher.mp4' },
  { number: 3, name: 'Thank You for Not Snitching', file: 'https://dn721501.ca.archive.org/0/items/the-boondocks-complete/Season%202/The%20Boondocks%20-%20S02E03%20-%20Thank%20You%20for%20Not%20Snitching.mp4' },
  { number: 4, name: 'Stinkmeaner Strikes Back', file: 'https://dn721501.ca.archive.org/0/items/the-boondocks-complete/Season%202/The%20Boondocks%20-%20S02E04%20-%20Stinkmeaner%20Strikes%20Back.mp4' },
  { number: 5, name: 'The Story of Thugnificent', file: 'https://dn721501.ca.archive.org/0/items/the-boondocks-complete/Season%202/The%20Boondocks%20-%20S02E05%20-%20The%20Story%20of%20Thugnificent.mp4' },
  { number: 6, name: 'Attack of the Killer Kung-Fu Wolf Bitch', file: 'https://dn721501.ca.archive.org/0/items/the-boondocks-complete/Season%202/The%20Boondocks%20-%20S02E06%20-%20Attack%20of%20the%20Killer%20Kung-Fu%20Wolf%20Bitch.mp4' },
  { number: 7, name: "Shinin'", file: 'https://dn721501.ca.archive.org/0/items/the-boondocks-complete/Season%202/The%20Boondocks%20-%20S02E07%20-%20Shinin%27.mp4' },
  { number: 8, name: "Ballin'", file: 'https://dn721501.ca.archive.org/0/items/the-boondocks-complete/Season%202/The%20Boondocks%20-%20S02E08%20-%20Ballin%27.mp4' },
  { number: 9, name: 'Invasion of the Katrinians', file: 'https://dn721501.ca.archive.org/0/items/the-boondocks-complete/Season%202/The%20Boondocks%20-%20S02E09%20-%20Invasion%20of%20the%20Katrinians.mp4' },
  { number: 10, name: 'Home Alone', file: 'https://dn721501.ca.archive.org/0/items/the-boondocks-complete/Season%202/The%20Boondocks%20-%20S02E10%20-%20Home%20Alone.mp4' },
  { number: 11, name: 'The S-Word', file: 'https://dn721501.ca.archive.org/0/items/the-boondocks-complete/Season%202/The%20Boondocks%20-%20S02E11%20-%20The%20S%20Word.mp4' },
  { number: 12, name: 'The Story of Catcher Freeman', file: 'https://dn721501.ca.archive.org/0/items/the-boondocks-complete/Season%202/The%20Boondocks%20-%20S02E12%20-%20The%20Story%20of%20Catcher%20Freeman.mp4' },
  { number: 13, name: 'The Story of Gangstalicious Part 2', file: 'https://dn721501.ca.archive.org/0/items/the-boondocks-complete/Season%202/The%20Boondocks%20-%20S02E13%20-%20The%20Story%20of%20Gangstalicious%20Part%202.mp4' },
  { number: 14, name: 'The Hunger Strike', file: 'https://dn721501.ca.archive.org/0/items/the-boondocks-complete/Season%202/The%20Boondocks%20-%20S02E14%20-%20The%20Hunger%20Strike.mp4' },
  { number: 15, name: 'The Uncle Ruckus Reality Show', file: 'https://dn721501.ca.archive.org/0/items/the-boondocks-complete/Season%202/The%20Boondocks%20-%20S02E15%20-%20The%20Uncle%20Ruckus%20Reality%20Show.mp4' }
];

// =======================
// Season 3
// =======================
const season3Episodes = [
  { number: 1, name: "It's a Black President, Huey Freeman", file: 'https://dn721501.ca.archive.org/0/items/the-boondocks-complete/Season%203/The%20Boondocks%20-%20S03E01%20-%20It%27s%20a%20Black%20President%2C%20Huey%20Freeman.mp4' },
  { number: 2, name: "Bitches to Rags", file: 'https://ia601203.us.archive.org/6/items/the-boondocks-complete/Season%203/The%20Boondocks%20-%20S03E02%20-%20Bitches%20to%20Rags.ia.mp4' },
  { number: 3, name: "The Red Ball", file: 'https://dn721501.ca.archive.org/0/items/the-boondocks-complete/Season%203/The%20Boondocks%20-%20S03E03%20-%20The%20Red%20Ball.ia.mp4' },
  { number: 4, name: "The Story of Jimmy Rebel", file: 'https://dn721501.ca.archive.org/0/items/the-boondocks-complete/Season%203/The%20Boondocks%20-%20S03E04%20-%20The%20Story%20of%20Jimmy%20Rebel.mp4' },
  // { number: 5, name: "Stinkmeaner 3: The Hateocracy", file: 'https://files.catbox.moe/placeholder.mp4' },
  { number: 6, name: "Smokin' with Cigarettes", file: 'https://dn721501.ca.archive.org/0/items/the-boondocks-complete/Season%203/The%20Boondocks%20-%20S03E06%20-%20Smokin%27%20With%20Cigarettes.ia.mp4' },
  { number: 7, name: "The Fundraiser", file: 'https://dn721501.ca.archive.org/0/items/the-boondocks-complete/Season%203/The%20Boondocks%20-%20S03E07%20-%20The%20Fundraiser.ia.mp4' },
  { number: 8, name: "Pause", file: 'https://dn721501.ca.archive.org/0/items/the-boondocks-complete/Season%203/The%20Boondocks%20-%20S03E08%20-%20Pause.ia.mp4' },
  { number: 9, name: "A Date with the Booty Warrior", file: 'https://dn721501.ca.archive.org/0/items/the-boondocks-complete/Season%203/The%20Boondocks%20-%20S03E09%20-%20A%20Date%20With%20the%20Booty%20Warrior.ia.mp4' },
  { number: 10, name: "The Story of Lando Freeman", file: 'https://dn721501.ca.archive.org/0/items/the-boondocks-complete/Season%203/The%20Boondocks%20-%20S03E10%20-%20The%20Story%20of%20Lando%20Freeman.ia.mp4' },
  { number: 11, name: "Lovely Ebony Brown", file: 'https://dn721501.ca.archive.org/0/items/the-boondocks-complete/Season%203/The%20Boondocks%20-%20S03E11%20-%20Lovely%20Ebony%20Brown.ia.mp4' },
  // { number: 12, name: "Missing Episode", file: 'https://files.catbox.moe/placeholder.mp4' },
  // { number: 13, name: "Missing Episode", file: 'https://files.catbox.moe/placeholder.mp4' },
  { number: 14, name: "The Color Ruckus", file: 'https://ia801203.us.archive.org/6/items/the-boondocks-complete/Season%203/The%20Boondocks%20-%20S03E14%20-%20The%20Color%20Ruckus.ia.mp4' },
  { number: 15, name: "It's Goin Down", file: 'https://dn721501.ca.archive.org/0/items/the-boondocks-complete/Season%203/The%20Boondocks%20-%20S03E15%20-%20It%27s%20Goin%20Down.ia.mp4' }
];

// =======================
// Season 4
// =======================
const season4Episodes = [
  { number: 1, name: "Pretty Boy Flizzy", file: 'https://archive.org/download/the-boondocks-complete/Season%204/The%20Boondocks%20-%20S04E01%20-%20Pretty%20Boy%20Flizzy.ia.mp4' },
  { number: 2, name: "Good Times", file: 'https://archive.org/download/the-boondocks-complete/Season%204/The%20Boondocks%20-%20S04E02%20-%20Good%20Times.ia.mp4' },
  { number: 3, name: "Breaking Granddad", file: 'https://archive.org/download/the-boondocks-complete/Season%204/The%20Boondocks%20-%20S04E03%20-%20Breaking%20Granddad.ia.mp4' },
  { number: 4, name: "Early Bird Special", file: 'https://archive.org/download/the-boondocks-complete/Season%204/The%20Boondocks%20-%20S04E04%20-%20Early%20Bird%20Special.ia.mp4' },
  { number: 5, name: "Freedom Ride or Die", file: 'https://archive.org/download/the-boondocks-complete/Season%204/The%20Boondocks%20-%20S04E05%20-%20Freedom%20Ride%20or%20Die.ia.mp4' },
  { number: 6, name: "Granddad Dates a Kardashian", file: 'https://archive.org/download/the-boondocks-complete/Season%204/The%20Boondocks%20-%20S04E06%20-%20Granddad%20Dates%20a%20Kardashian.ia.mp4' },
  { number: 7, name: "Freedomland", file: 'https://archive.org/download/the-boondocks-complete/Season%204/The%20Boondocks%20-%20S04E07%20-%20Freedomland.ia.mp4' },
  { number: 8, name: "I Dream of Siri", file: 'https://archive.org/download/the-boondocks-complete/Season%204/The%20Boondocks%20-%20S04E08%20-%20I%20Dream%20of%20Siri.ia.mp4' },
  { number: 9, name: "Stinkmeaner: Begun the Clone War Has", file: 'https://archive.org/download/the-boondocks-complete/Season%204/The%20Boondocks%20-%20S04E09%20-%20Stinkmeaner%20Begun%20the%20Clone%20War%20Has.ia.mp4' },
  { number: 10, name: "The New Black", file: 'https://archive.org/download/the-boondocks-complete/Season%204/The%20Boondocks%20-%20S04E10%20-%20The%20New%20Black.ia.mp4' }
];

// =======================
// Seasons Array
// =======================
const seasons = [
  { id: 1, name: 'Season 1', episodes: season1Episodes },
  { id: 2, name: 'Season 2', episodes: season2Episodes },
  { id: 3, name: 'Season 3', episodes: season3Episodes },
  { id: 4, name: 'Season 4', episodes: season4Episodes }
];


// --- Player Logic ---
const videoPlayer = document.getElementById('video-player');
const currentEpisodeTitle = document.getElementById('current-episode');
const episodesListEl = document.getElementById('episodes-list');
const episodeCount = document.getElementById('episode-count');
const seasonDropdown = document.getElementById('season-dropdown');
const seasonButton = document.getElementById('season-button');
const seasonOptions = document.getElementById('season-options');

let currentSeason = 0;
let currentEpisodeIndex = 0;
let episodes = [];

function loadSeasons() {
  // Populate season dropdown
  seasonOptions.innerHTML = '';
  seasons.forEach((season, index) => {
    const option = document.createElement('div');
    option.className = 'season-option';
    option.textContent = season.name;
    option.addEventListener('click', () => selectSeason(index));
    seasonOptions.appendChild(option);
  });

  // Load first season by default
  selectSeason(0);
}

function selectSeason(seasonIndex) {
  currentSeason = seasonIndex;
  episodes = seasons[seasonIndex].episodes.map(ep => ({
    number: ep.number,
    name: ep.name,
    path: ep.file,
    file: ep.file
  }));

  // Update button text
  seasonButton.textContent = seasons[seasonIndex].name;

  // Close dropdown
  seasonDropdown.classList.remove('active');

  // Render episodes and update UI
  renderEpisodes();
  updateEpisodeCount();

  if (episodes.length > 0) {
    playEpisode(episodes[0], 0);
  }
}

function renderEpisodes() {
  episodesListEl.innerHTML = '';

  if (episodes.length === 0) {
    episodesListEl.innerHTML = '<p style="color: #aaa; text-align: center; grid-column: 1/-1;">No episodes found</p>';
    return;
  }

  episodes.forEach((episode, index) => {
    const card = document.createElement('div');
    card.className = 'episode-card';
    card.innerHTML = `
      <div class="episode-number">Episode ${episode.number}</div>
      <div class="episode-name">${episode.name}</div>
    `;
    card.addEventListener('click', () => playEpisode(episode, index));
    episodesListEl.appendChild(card);
  });
}

function playEpisode(episode, index) {
  videoPlayer.src = episode.path;
  videoPlayer.load();
  videoPlayer.play();
  currentEpisodeTitle.textContent = `${seasons[currentSeason].name} - Episode ${episode.number}: ${episode.name}`;
  currentEpisodeIndex = index;

  const cards = document.querySelectorAll('.episode-card');
  cards.forEach(card => card.classList.remove('active'));
  if (cards[index]) {
    cards[index].classList.add('active');
  }
}

function updateEpisodeCount() {
  episodeCount.textContent = `Episodes: ${episodes.length}`;
}

// Toggle dropdown
seasonButton.addEventListener('click', () => {
  seasonDropdown.classList.toggle('active');
});

// Close dropdown when clicking outside
document.addEventListener('click', (e) => {
  if (!seasonDropdown.contains(e.target)) {
    seasonDropdown.classList.remove('active');
  }
});

// Auto-play next episode
videoPlayer.addEventListener('ended', () => {
  if (currentEpisodeIndex < episodes.length - 1) {
    playEpisode(episodes[currentEpisodeIndex + 1], currentEpisodeIndex + 1);
  }
});

// Keyboard navigation
document.addEventListener('keydown', (e) => {
  if (e.key === 'ArrowLeft' && currentEpisodeIndex > 0) {
    playEpisode(episodes[currentEpisodeIndex - 1], currentEpisodeIndex - 1);
  } else if (e.key === 'ArrowRight' && currentEpisodeIndex < episodes.length - 1) {
    playEpisode(episodes[currentEpisodeIndex + 1], currentEpisodeIndex + 1);
  }
});

loadSeasons();
